<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oportunidades - ConectLar Profissional</title>
    <link rel="stylesheet" href="/css/feed-trabalhador.css">
</head>
<body>

<header class="cabecalho-top">
    <div class="logo-area">
        <img src="/assets/logo-conect.png" alt="Logo ConectLar" class="logo-img">
        <span class="badge-pro">Profissional</span>
    </div>
    <div class="menu-pro">
        <button onclick="window.location.href='feed-trabalhador.html'">Home</button>
        <button onclick="window.location.href='historico_profissional.html'">Hist√≥rico <span id="contadorHistorico" style="margin-left:6px; padding:2px 8px; border-radius:999px; background:#00e0ff; color:#000; font-weight:700; font-size:12px;">0</span></button>
        <button onclick="window.location.href='historico_profissional.html'">Lucro total <span id="contadorLucroTotal" style="margin-left:6px; padding:2px 8px; border-radius:999px; background:#00e0ff; color:#000; font-weight:700; font-size:12px;">R$ 0,00</span></button>
        <button onclick="window.location.href='perfil_trabalhador.html'">Perfil</button>
        <button onclick="logout()" class="botao-sair">Sair</button>
    </div>
</header>

<main class="container-principal">
    <section class="painel-conteudo">
        <div id="saudacaoUsuario" style="display:flex; align-items:center; gap:12px; margin-bottom:16px;">
            <img id="fotoUsuario" alt="Foto do usu√°rio" src="/assets/avatar-padrao.png" style="width:46px; height:46px; border-radius:50%; object-fit:cover; border:2px solid #00e0ff;">
            <div id="textoSaudacao" style="font-weight:700;">Ol√°, <span id="nomeUsuarioSaudacao">Profissional</span></div>
        </div>

        <div id="caixaNotificacoes" style="display:flex; gap:12px; flex-wrap:wrap; margin-bottom:16px;">
            <div style="flex:1; min-width:220px; background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.12); border-radius:14px; padding:12px;">
                <div style="font-weight:800; margin-bottom:6px;">Notifica√ß√µes</div>
                <div style="display:flex; gap:10px; flex-wrap:wrap;">
                    <span style="padding:6px 10px; border-radius:999px; background:#00e0ff; color:#000; font-weight:800;">Pendentes: <span id="notificacoesPendentes">0</span></span>
                    <span style="padding:6px 10px; border-radius:999px; background:#00e0ff; color:#000; font-weight:800;">Aceitas: <span id="notificacoesAceitas">0</span></span>
                </div>
            </div>
        </div>
        <div class="container-busca">
            <div class="form-busca">
                <span class="icon-busca">&#128269;</span>
                <input type="text" id="campoBusca" placeholder="O que voc√™ est√° procurando hoje?" class="input-busca">
                <button class="btn-pesquisar" onclick="buscarVagas()">Buscar</button>
            </div>
        </div>

        <div class="secao-feed">
            <h1 class="titulo-sessao">Oportunidades Dispon√≠veis</h1>
            
            <div id="listaTrabalhos" class="lista-trabalhos">
                <div class="empty-state">
                    <div class="empty-icon">üîé</div>
                    <h2>Buscando as melhores vagas...</h2>
                    <p>Aguarde um momento enquanto carregamos novos servi√ßos para voc√™.</p>
                </div>
            </div>
        </div>
    </section>
</main>


<div id="modalDetalhesTrabalho" class="modal-backdrop escondido">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Detalhes do Trabalho</h2>
            <button class="modal-fechar" data-action="fechar-modal">&times;</button>
        </div>
        <div class="modal-body">
            <form id="formDetalhesTrabalho" class="form-dark">
                <div class="form-grupo">
                    <label for="detalheTitulo">T√≠tulo</label>
                    <input type="text" id="detalheTitulo" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheCategoria">Categoria</label>
                    <input type="text" id="detalheCategoria" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalhePagamento">Valor (R$)</label>
                    <input type="text" id="detalhePagamento" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheCep">CEP</label>
                    <input type="text" id="detalheCep" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheCidade">Cidade</label>
                    <input type="text" id="detalheCidade" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheEstado">Estado</label>
                    <input type="text" id="detalheEstado" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheRua">Rua</label>
                    <input type="text" id="detalheRua" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheDescricao">Descri√ß√£o</label>
                    <textarea id="detalheDescricao" rows="4" readonly></textarea>
                </div>
                <div class="form-grupo">
                    <label>Imagens do Problema</label>
                    <div id="detalheImagens"></div>
                </div>
                <div class="form-grupo">
                    <label for="detalheStatus">Status</label>
                    <input type="text" id="detalheStatus" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheBairro">Bairro</label>
                    <input type="text" id="detalheBairro" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheNumero">N√∫mero</label>
                    <input type="text" id="detalheNumero" readonly>
                </div>
                <div class="form-grupo">
                    <label for="detalheComplemento">Complemento</label>
                    <input type="text" id="detalheComplemento" readonly>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="/js/api.js"></script>
<script src="/js/paginas/feed-profissional.js"></script>
<script src="/js/paginas/feed-profissional-events.js"></script>
</body>
</html>